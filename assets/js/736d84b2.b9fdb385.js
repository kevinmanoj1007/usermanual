"use strict";(self.webpackChunkuser_manual=self.webpackChunkuser_manual||[]).push([[1731],{2213:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>l,frontMatter:()=>a,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"API/base-preprocessor-api","title":"BasePreprocessor API","description":"The BasePreprocessor class provides hooks that can be overridden to implement preprocessing logic.","source":"@site/adk/API/base-preprocessor-api.md","sourceDirName":"API","slug":"/API/base-preprocessor-api","permalink":"/adk/API/base-preprocessor-api","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"TargetSpec","permalink":"/adk/API/Models/Optimization/targets"},"next":{"title":"Basics","permalink":"/adk/category/basics"}}');var s=n(4848),o=n(8453);const a={},i="BasePreprocessor API",c={},p=[{value:"Methods",id:"methods",level:3}];function d(e){const t={code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"basepreprocessor-api",children:"BasePreprocessor API"})}),"\n",(0,s.jsx)(t.p,{children:"The BasePreprocessor class provides hooks that can be overridden to implement preprocessing logic."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:'ActionType = TypeVar("ActionType")\r\nObservationType = TypeVar("ObservationType")\r\n \r\nclass BasePreprocessor(ABC):\r\n    def process_agent_data(self, agent_data: AgentData) -> AgentData:\r\n        return agent_data\r\n \r\n    def process_specification(self, specification: Specification) -> Specification:\r\n        return specification\r\n \r\n    def process_env_reset(\r\n        self,\r\n        observation: ObservationType,\r\n        info: dict[str, Any]\r\n    ) -> tuple[ObservationType, dict[str, Any]]:\r\n        return observation, info\r\n \r\n    def process_agent_step_data(self, step_data: StepData) -> StepData:\r\n        return step_data\r\n \r\n    def process_env_step(\r\n        self,\r\n        next_observation: ObservationType,\r\n        reward: float,\r\n        terminated: bool,\r\n        truncated: bool,\r\n        next_info: dict[str, Any]\r\n    ) -> tuple[ObservationType, float, bool, bool, dict[str, Any]]:\r\n        return next_observation, reward, terminated, truncated, next_info\n'})}),"\n",(0,s.jsx)(t.h3,{id:"methods",children:"Methods"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"process_agent_data(agent_data: AgentData) -> AgentData"})," Modify agent-related data before it is used. See [AgentData documentation] for details on the AgentData structure."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"process_specification(specification: Specification) -> Specification"})," Preprocess specifications before passing them to the agent. See [Specification documentation] for details on the Specification structure."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"process_env_reset(observation, info)"})," Preprocess the observation and info returned when the environment is reset."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"process_agent_step_data(step_data: StepData) -> StepData"})," Preprocess the agent's step data before it is sent to the environment."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"process_env_step(next_observation, reward, terminated, truncated, next_info)"})," Preprocess the outputs returned from the environment after each step."]}),"\n"]})]})}function l(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>i});var r=n(6540);const s={},o=r.createContext(s);function a(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);